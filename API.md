<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Bus][1]
    -   [open][2]
    -   [addToQueue][3]
    -   [close][4]
    -   [i2cFuncs][5]
    -   [scan][6]
    -   [read][7]
    -   [write][8]
    -   [readByte][9]
    -   [readWord][10]
    -   [readI2cBlock][11]
    -   [receiveByte][12]
    -   [writeByte][13]
    -   [writeWord][14]
    -   [writeI2cBlock][15]
    -   [sendByte][16]
    -   [writeQuick][17]
-   [Device][18]
    -   [read][19]
    -   [write][20]
    -   [readByte][21]
    -   [readWord][22]
    -   [readI2cBlock][23]
    -   [receiveByte][24]
    -   [writeQuick][25]
    -   [writeByte][26]
    -   [writeWord][27]
    -   [writeI2cBlock][28]
    -   [sendByte][29]
-   [BusError][30]
-   [Mocks][31]
    -   [createI2cBus][32]
    -   [i2cBus][33]
    -   [Types][34]
        -   [PhysicalBusErrorType][35]
        -   [PhysicalBusMockType][36]
-   [Types][37]
    -   [BitType][38]
    -   [ByteType][39]
    -   [WordType][40]
    -   [CmdType][41]
    -   [AddrType][42]

## Bus

i2c Bus class. Wraps and promises the original `i2c-bus` library.
All the functions are promised and run through a queue without concurrency,
to prevent multiple access to the i2c bus.

**Parameters**

-   `busNumber` **[number][43]**  (optional, default `1`)

### open

Opens the bus connection

Returns **[Promise][44]&lt;void>** 

### addToQueue

Adds operation to the promise queue. Do **not** call this function directly.

**Parameters**

-   `fn` **[string][45]** 
-   `args` **...[Array][46]&lt;any>** 


-   Throws **[BusError][47]** If the bus connection is not open

Returns **[Promise][44]&lt;any>** 

### close

Closes the bus connection

Returns **[Promise][44]&lt;void>** 

### i2cFuncs

Determines functionality of the bus/adapter

Returns **[Promise][44]&lt;{}>** 

### scan

Scans the I2C bus asynchronously for devices

Returns **[Promise][44]&lt;[Array][46]&lt;[AddrType][48]>>** 

### read

Plain i2c read

**Parameters**

-   `addr` **[AddrType][48]** 
-   `length` **[number][43]** 
-   `buffer` **[Buffer][49]** 

Returns **[Promise][44]&lt;[number][43]>** 

### write

Plain i2c write

**Parameters**

-   `addr` **[AddrType][48]** 
-   `length` **[number][43]** 
-   `buffer` **[Buffer][49]** 

Returns **[Promise][44]&lt;[number][43]>** 

### readByte

SMBus read byte

**Parameters**

-   `addr` **[AddrType][48]** 
-   `cmd` **[CmdType][50]** 

Returns **[Promise][44]&lt;[ByteType][51]>** 

### readWord

SMBus read word

**Parameters**

-   `addr` **[AddrType][48]** 
-   `cmd` **[CmdType][50]** 

Returns **[Promise][44]&lt;[WordType][52]>** 

### readI2cBlock

SMBus read number of bytes to buffer

**Parameters**

-   `addr` **[AddrType][48]** 
-   `cmd` **[CmdType][50]** 
-   `length` **[number][43]** 
-   `buffer` **[Buffer][49]** 

Returns **[Promise][44]&lt;[number][43]>** 

### receiveByte

SMBus receive a byte

**Parameters**

-   `addr` **[AddrType][48]** 

Returns **[Promise][44]&lt;[ByteType][51]>** 

### writeByte

SMBus write a byte

**Parameters**

-   `addr` **[AddrType][48]** 
-   `cmd` **[CmdType][50]** 
-   `byte` **[ByteType][51]** 

Returns **[Promise][44]&lt;void>** 

### writeWord

SMBus write a word

**Parameters**

-   `addr` **[AddrType][48]** 
-   `cmd` **[CmdType][50]** 
-   `word` **[WordType][52]** 

Returns **[Promise][44]&lt;void>** 

### writeI2cBlock

SMBus write number of bytes from buffer

**Parameters**

-   `addr` **[AddrType][48]** 
-   `cmd` **[CmdType][50]** 
-   `length` **[number][43]** 
-   `buffer` **[Buffer][49]** 

Returns **[Promise][44]&lt;[number][43]>** 

### sendByte

SMBus send a byte

**Parameters**

-   `addr` **[AddrType][48]** 
-   `byte` **[ByteType][51]** 

Returns **[Promise][44]&lt;void>** 

### writeQuick

SMBus write a single bit

**Parameters**

-   `addr` **[AddrType][48]** 
-   `bit` **[BitType][53]** 

Returns **[Promise][44]&lt;void>** 

## Device

i2c device base class.
Represents an i2c device connected to the i2c bus.

**Parameters**

-   `bus` **[Bus][54]** 
-   `address` **[number][43]** 

### read

Plain i2c read

**Parameters**

-   `length` **[number][43]** 
-   `buffer` **[Buffer][49]** 

Returns **[Promise][44]&lt;[number][43]>** 

### write

Plain i2c write

**Parameters**

-   `length` **[number][43]** 
-   `buffer` **[Buffer][49]** 

Returns **[Promise][44]&lt;[number][43]>** 

### readByte

SMBus read byte

**Parameters**

-   `cmd` **[CmdType][50]** 

Returns **[Promise][44]&lt;[ByteType][51]>** 

### readWord

SMBus read word

**Parameters**

-   `cmd` **[CmdType][50]** 

Returns **[Promise][44]&lt;[WordType][52]>** 

### readI2cBlock

SMBus read number of bytes to buffer

**Parameters**

-   `cmd` **[CmdType][50]** 
-   `length` **[number][43]** 
-   `buffer` **[Buffer][49]** 

Returns **[Promise][44]&lt;[number][43]>** 

### receiveByte

SMBus receive a byte

Returns **[Promise][44]&lt;[ByteType][51]>** 

### writeQuick

SMBus write a single bit to the device's address

**Parameters**

-   `bit` **[BitType][53]** 

Returns **[Promise][44]&lt;void>** 

### writeByte

SMBus write a byte to the device's address

**Parameters**

-   `cmd` **[CmdType][50]** 
-   `byte` **[ByteType][51]** 

Returns **[Promise][44]&lt;void>** 

### writeWord

SMBus write a word to the device's address

**Parameters**

-   `cmd` **[CmdType][50]** 
-   `word` **[WordType][52]** 

Returns **[Promise][44]&lt;void>** 

### writeI2cBlock

SMBus write number of bytes from buffer to the device's address

**Parameters**

-   `cmd` **[CmdType][50]** 
-   `length` **[number][43]** 
-   `buffer` **[Buffer][49]** 

Returns **[Promise][44]&lt;[number][43]>** 

### sendByte

SMBus send a byte to the device's address

**Parameters**

-   `byte` **[ByteType][51]** 

Returns **[Promise][44]&lt;void>** 

## BusError

**Extends Error**

Class representing an error ocurred inside the Bus.

**Parameters**

-   `message` **[string][45]** 
-   `code` **[string][45]** 
-   `causeError` **[Error][55]?**  (optional, default `null`)

## Mocks

Customizable mock of the underliying `i2c-bus` library to mock the physical i2c device


### createI2cBus

Mock to import `i2c-bus` library

**Parameters**

-   `physicalBus` **[PhysicalBusMockType][56]** 

Returns **{open: function (busNumber: [number][43], cb: [Function][57]): [i2cBus][58]}** 

### i2cBus

i2cBus mock

**Parameters**

-   `physicalBus` **[PhysicalBusMockType][56]** 
-   `busNumber` **[number][43]**  (optional, default `1`)

### Types




#### PhysicalBusErrorType

Type representing i2c-bus errors

Type: any

#### PhysicalBusMockType

Type representing the data used to mock the i2c bus

Type: {busNumber: [number][43], devices: {}, funcs: {}}

**Properties**

-   `busNumber` **[number][43]** 
-   `devices` **{}** 
-   `funcs` **{}** 

## Types

A handful of Flow-Types that help to understand the expected values


### BitType

Single bit

Type: (`0` \| `1`)

### ByteType

Byte-length number (0x00 - 0xff)

Type: [number][43]

### WordType

Byte-length number (0x0000 - 0xffff)

Type: [number][43]

### CmdType

Byte-length number (0x00 - 0xff)

Type: [number][43]

### AddrType

Byte-length number (0x00 - 0xff)

Type: [number][43]

[1]: #bus

[2]: #open

[3]: #addtoqueue

[4]: #close

[5]: #i2cfuncs

[6]: #scan

[7]: #read

[8]: #write

[9]: #readbyte

[10]: #readword

[11]: #readi2cblock

[12]: #receivebyte

[13]: #writebyte

[14]: #writeword

[15]: #writei2cblock

[16]: #sendbyte

[17]: #writequick

[18]: #device

[19]: #read-1

[20]: #write-1

[21]: #readbyte-1

[22]: #readword-1

[23]: #readi2cblock-1

[24]: #receivebyte-1

[25]: #writequick-1

[26]: #writebyte-1

[27]: #writeword-1

[28]: #writei2cblock-1

[29]: #sendbyte-1

[30]: #buserror

[31]: #mocks

[32]: #createi2cbus

[33]: #i2cbus

[34]: #types

[35]: #physicalbuserrortype

[36]: #physicalbusmocktype

[37]: #types-1

[38]: #bittype

[39]: #bytetype

[40]: #wordtype

[41]: #cmdtype

[42]: #addrtype

[43]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[44]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[45]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[46]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[47]: #buserror

[48]: #addrtype

[49]: https://nodejs.org/api/buffer.html

[50]: #cmdtype

[51]: #bytetype

[52]: #wordtype

[53]: #bittype

[54]: #bus

[55]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Error

[56]: #physicalbusmocktype

[57]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[58]: #i2cbus
